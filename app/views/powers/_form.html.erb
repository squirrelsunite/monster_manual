<%= form_for(@power) do |f| %>
  <% if @power.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@power.errors.count, "error") %> prohibited this power from being saved:</h2>

      <ul>
      <% @power.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :source %><br />
    <%= f.text_field :source %>
  </div>
  <div class="field">
    <%= f.label :power_type %><br />
    <%= f.select :power_type, Power.power_types %>
  </div>
  <div class="field">
    <%= f.label :level %><br />
    <%= f.text_field :level, :size => 3 %>
  </div>
  <div class="field">
    <%= f.label :flavor_text %><br />
    <%= f.text_area :flavor_text %>
  </div>
  <div class="field">
    <%= f.label :usage %><br />
    <%= f.select :usage, Power.usages %>
  </div>
  <div class="field">
    <%= f.label :action_type %><br />
    <%= f.select :action_type, Power.action_types %>
  </div>
  <div class="field">
  <div id="triggers">
    <%= f.label :trigger %><br />
    <%= f.text_area :trigger %>
  </div>
  <br />
  <div class="field">
		<button type="button" id="show_attack_options">Attack Options</button>
	</div>
  <div id="attack_options">
    <%= f.label :attack_type %><br />
    <%= f.select :attack_type, Power.attack_types %>
    <br />
    <%= f.label :attack_range %><br />
    <%= f.select :attack_range, Power.attack_ranges %>
    <br />
    <%= f.label :attack_range_value %><br />
    <%= f.text_field :attack_range_value, :size => 3 %>
    <br />
    <%= f.label :area_range_value %><br />
    <%= f.text_field :area_range_value, :size => 3 %>
    <br />
    <%= f.label :prerequisite %><br />
    <%= f.text_area :prerequisite %>
    <br />
    <%= f.label :requirement %><br />
    <%= f.text_area :requirement %>
    <br />
    <%= f.label :target %><br />
    <%= f.text_area :target %>
    <br />
    <%= f.label :attack_ability %><br />
    <%= f.select :attack_ability, Power.attack_abilities %>
    <br />
    <%= f.label :attack_modifier %><br />
    <%= f.text_field :attack_modifier, :size => 3 %>
    <br />
    <%= f.label :defense %><br />
    <%= f.select :defense, Power.defenses %>
    <br />
    <%= f.label :hit %><br />
    <%= f.text_area :hit %>
    <br />
    <%= f.label :miss %><br />
    <%= f.text_area :miss %>
  </div>
  <div class="field">
    <%= f.label :effect %><br />
    <%= f.text_area :effect %>
  </div>
  <div class="field">
		<button type="button" id="show_sustained_options">Sustained Effect Options</button>
	</div>
  <div id="sustained_options">
    <%= f.label :sustain_action_type %><br />
    <%= f.select :sustain_action_type, Power.action_types %>
    <br />
    <%= f.label :sustain_effect %><br />
    <%= f.text_area :sustain_effect %>
  </div>
  <div class="field">
    <%= f.label :power_special %><br />
    <%= f.text_area :power_special %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
<script type="text/javascript">
  $(function() {
  	var attack_options = $("#attack_options");
   	attack_options.hide();
   	$("#show_attack_options").click(function() { attack_options.show(); });
 	});
 	$(function() {
  	var sustained_options = $("#sustained_options");
   	sustained_options.hide();
   	$("#show_sustained_options").click(function() { sustained_options.show(); });
 	});
</script>
